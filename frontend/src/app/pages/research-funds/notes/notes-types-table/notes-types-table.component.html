<div appTableWrapper>
  <table appDataTable class="notes-types-table">
    <thead>
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Description</th>
        <th>Created At</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      @for (item of filteredTypes(); track trackById($index, item)) {
        <tr>
          <td>{{ item.id }}</td>
          <td class="name-cell">{{ item.display_name }}</td>
          <td class="description-cell">{{ item.description || '-' }}</td>
          <td>{{ formatCreatedAt()(item.created_at) }}</td>
          <td class="actions-cell">
            <button
              type="button"
              class="btn btn-icon btn-text btn-danger delete-btn"
              (click)="requestDelete(item)"
              [disabled]="!isDeletable()(item)"
              [title]="isDeletable()(item) ? 'Delete type' : 'Delete disabled (older than 7 days)'"
            >
              <i class="pi pi-trash"></i>
            </button>
          </td>
        </tr>
      }
      @if (filteredTypes().length === 0) {
        <tr>
          <td colspan="5">
            <app-state type="empty" icon="pi pi-info-circle" message="No note types found" size="compact"></app-state>
          </td>
        </tr>
      }
    </tbody>
  </table>
</div>
