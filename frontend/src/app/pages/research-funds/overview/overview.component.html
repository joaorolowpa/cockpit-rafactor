<div appPageContainer>
  <div appPageHeader>
    <div>
      <h1 class="page-title">Research - Funds Overview</h1>
      <p class="page-subtitle">Overview of fund metrics and performance data</p>
    </div>
  </div>

  @if (isLoading()) {
    <app-state
      type="loading"
      icon="pi pi-spinner pi-spin"
      message="Loading funds overview..."
    ></app-state>
  }

  @if (error() && !isLoading()) {
    <app-state
      type="error"
      icon="pi pi-exclamation-circle"
      [message]="error() || ''"
      actionLabel="Retry"
      (action)="loadData()"
    ></app-state>
  }

  @if (!isLoading() && !error() && groupedFunds().length === 0) {
    <app-state
      type="empty"
      icon="pi pi-folder-open"
      message="No funds data available"
    ></app-state>
  }

  @if (!isLoading() && !error() && groupedFunds().length > 0) {
    <app-funds-accordion
      [groupedFunds]="groupedFunds()"
    />
  }
</div>
