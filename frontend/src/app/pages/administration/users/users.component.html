<div appPageContainer>
  <div appPageHeader>
    <div>
      <h1 class="page-title">Admin Panel</h1>
      <p class="page-subtitle">Manage users and roles</p>
    </div>
    <div appPageActions>
      <button class="btn btn-primary admin-create-btn" type="button" (click)="openCreateDialog()">
        <i class="pi pi-plus"></i>
        <span>Create User</span>
      </button>
    </div>
  </div>

  @if (isLoading()) {
    <app-state type="loading" icon="pi pi-spinner pi-spin" message="Loading users..."></app-state>
  } @else {
    <app-users-table 
      [users]="users()" 
      (userUpdated)="loadUsers()"
    />
  }
</div>

@if (showCreateDialog()) {
  <app-user-form-dialog 
    (close)="onDialogClose()"
    (userCreated)="onUserCreated()"
  />
}
